import socket

skt = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
IP = input("Digite o IP: ")
PORT = input("Digite a porta: ")

try:
    skt.connect((IP, int(PORT)))
    if (skt.settimeout(5)):  # se nao tiver uma response em 5 segundos
        skt.close()
        print("fechadno")
    banner = skt.recv(1024).decode()
    print(banner)
    key = banner.count("dropbear")
    if (key > 0):
        print("fazer ssh")
    else:
        print("nao faz ssh")
except socket.timeout:
    pass
except ConnectionRefusedError:
    print("conexao recusada")
# finally:
    # skt.close()
